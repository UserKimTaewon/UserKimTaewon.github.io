지난주=

오늘 2장 끝낼 예정



MTP?

# 메일 format

유저-에이전트에서 작성한 format!=프로토콜

작성한 걸 구형?포맷으로 변환..?

내가 쓰는 게 바로 상대로 가는 게 아님..?

내 이메일 서버에 보내고, 상대방네 이메일 서버랑 통신해서 보내는 거.

보내는 단위가 1줄...?





# DNS 프로토콜?

이러한 약속을 지켜서 보내기/해석 ㄱㄴ.

- 매번 quarry:some,reply:some2 대신에

- 걍 순서 정해놓고 some,some2 순으로 보내면



쿼리랑 리플라이랑 같은 포맷 공유..?

쿼리-리플라이?에 id가 있네.

2바이트 id,플래그,#question,...

으로 시작하고..



tcp는 들었는지 확인하고

udp는 들었는지 확인도 없고.

tcp는 그 확인 과정이 좀 복잡..?



# p2p

서버-방식은 중앙 서버가 모든 오버헤드 감당.

p2p는 받은 사람이 새 서?버 처럼 되서 오버헤드 담당.



bittorrent?

얘 기준으론는 중앙에서 적어도 누가 누구한테 주고 받을지는 결정.

파일이 청크로 

이기적인(다운만 받고 업로드 없으면)사람 방지?

- 안 이기적이면 다음 다운에 혜...택..?

한 그룹끼리만 하면 속도가 떨어지니(locality?)

매 30초마다 새-사람을 그룹에 초대..?(중앙에서 해줌)

그 뒤 가장 못?해준 친구를 잘라냄..?

긍께 자동으로 fit되는 네트웤..인..가..?



# CDNs

vid.srteaming&cdns?

vid traffic이 인터넷의 주-traffic...

- 망 사용료..?

한 서버가 다-담당하기엔 병목도 그렇고 힘듦..



vid는 용량이 커서 압축 필수(해도 크긴 함)



스트림/다운로드 방식?

- 스트림은 다운 받으면서 플레이

- 다운로드는 다운 다 받고 플레이.

- 유사 컴파일 vs 인터프리터



DASH?

- Dynamic Adaptive Streaming over HTTP

- http 기반 개량..?

- 기존의 http는 파일을 항상 한조각.

- 여기선 파일을 청크 단위로 나눔(안그럼 넘 큼)

- 청크-단위로 인코딩..?

//-각 청크에 대해 다른 압축 방식 쓸수도..

- 청크에 대해 여러 압축 방식을 쓰네

- menefest file:다른 여러 청크(압축 방식 등?)에 대한 URL 결정

클라이언트에서 가용 네트웤-대욕폭 보고

언제 req 할지,

어떤 압축률을 고를 지,

어디에 req 할지

를 클라가 결정해야..?



CDN=Contenet Distrivution Netrork

한 대형-서버로 하면

병목이 생김(먼 데에선 더 오래 걸림..)

대신 여러 군데에..

- 지역별 대형 데타-센터?

- 작은 소형-서버 여러곳에?

## 지역별 대형 데타-센터?

Akamai가 이런 서비스 제공.

전세계 1700개...

국을,넷플릭스 정도 크기 아니면 이런 데에 맏기는게..

암튼 이런 식으로 컨텐트를 여러 서버에 복사본을 나눠놓는 방식=CDN



cdn에 유저가 요청을 하면

가장 가깝고 빠른 서버에 요청하게 해줌.

(with menefest file)

하다 중간에 혼잡이 생기면 새 경로 고를수도



## "over the top"?

=OTT?

예전엔 셋톱을 통해 받음

이젠 법용-기기+인터넷으로 받음..?

그게 OTP?



셋톱(등의 필수 주번기기)을 넘어섯다는 뜻..?



인터넷-혼잡의 주 원인..

예제?

foo.bar.com

이면

com에서 bar에 foo가 어디인지..?

# UDP

소켓 프로그래밍..?

- 어플리케이션에서 네트웤과 통신하는 방식. 최?상?위?API?

소켓 관련 라이브러리?API?

는 항상 OS와의 연결로 돌아감.



파이썬 기준으로

from sorket import *하고



python 기준으로 socket(AF_INET,SOCK_DGRAM)

으로 소켓 생성.



AF_INET-ipv4 쓴다

SOCK_DGRAM-udp 쓴다



socket.sendto(body:byte[],to:Tuple[server_name,server_port])

로 보내기..?

socket.recvfrom(n_bytes)

로 받을 수도..?

bytes로 받는 것 같으니

.decode로 str로 변환 ㄱㄴ.



서버에서는

socket.bind((name?,port))

로 port에 bind 해야.

messege,adress=sorket.recvfrom(bytes)

로 bytes를



# 숙제

위의 예제-프로그램을 tcp 버젼으로 해서 

소문자->대문자,

대문자->소문자 구현..?



tcp 버젼이면 



SOCK_STREAM으로 하고

listen(1)..?을 하네..?

connsorket,addr=serversocket.accept()



# 숙제2

클라-서버 간에

사용자 인?증?을 하는..?

id+pw로



record를 만들어서?

id,pw가 든.

array[record[id,pass]]

를 이미 5개 정도 만들어 두고



둘 다 4자리 이상 숫자+특수문자..?

pwd는 임의의 조건

(특수문자 사용 등)

id는 일치이면

일치하면 pass,아니면 재입력?

id 없으면 재입력..?



복잡한 logic보다 큰-틀을 먼저 만들고 거기에 logic을 얹어 보자

오늘까..지..??

이 수업 프로그래밍은 힘듦...



# 과제-재정리

내용 정리..?

~2장+앞으로으로 학습 정리

홈피 구축..

과제로 강조+내가 09한거

텍스트,이미지,동영상 등...



wix,wordpress 등 사용

중간고사 이후에..?

socket 프로그램도 여기에 동봉.



가장 쉬운건 네이버 블로그긴 하지만

권장은 wordpress등의 새 홈페이지



## wix 사용?

ref 유튭

가급적이면 wix 추천(wordpress는 아마 유..료일..걸?)



wireshark?

- 다운받는 프로그램임

- 네트웤-디버깅에 도움..?





# FTP

=File Transfer Protocol

맨 처음 인터넷의 목표!

파일을 공?유 하는게 목표..

긍께 CRUD중 최소한 RU



FTP에선 프로세스가

- 컨트롤용

- 데이터 transfer용

으로 2개

tcp/ip로

컨트롤 데이터,실제 파일 데이터를 서버간에.



방법?

서버의 control process에 항상-열린 포트(고정으로 21번)

가 있음

데이터 프로세스는 고정 20번 씀

그 포트에 클라네 컨트롤-프로세스가 연결하고

(이건 임시 포트여도 ㄱㅊ)

PORT 커맨드로 자기 포트 알림..?

그러면 서버가 20번을 x에 뎡어



긍께 control process끼리 연결되면

클라네 데이터 프로세스가 포트를 열고

클라네 data process네 port를 서버네 컨트롤에 클라네 컨트롤이 보냄

그러면 서버네 데이터가 클라네 데이터랑 연결.

NVT ASCII?

- 네트웤용 ASCCI..?

- 기계-독립적?가상?아스키

- 컨트롤-제어 문자면

- 첫 비트가 1임



이제 데이터-프로세스끼리

파일 타입,구조,모드,...를 주고 받음.

파일 구조?

- 파일,레코드,페이지..?

전공 모드?

- 압축,스트림,블록,...

컨트롤 프로세스끼리

- 명령어 전송

- id,pass 전송으로 인증,connection 열릴 거임/엶 등.

- 서비스 닫을거임/닫음



보통 서버에서는 미리-정의된 메세지 몇개만 보내는 듯..?

- 고정 길이의 int?byte?

- 404 같은 거.

파일 프로세스끼리

- 파일 업로드/다운로드

- 서버네 파일 리스트 받기.?

만 함.

어떻게 받을지는 컨트롤-프로세스가 함.



요즘은 이런 로우-레벨까지 알 필요는 잘 없음..?



ftp 서버는 도메인-기반이나 ip-기반으로 locate.



## 익명-ftp?

보통 ftp는 폐쇠적(id,pass 인증 필요)

이 경우엔 guest여도 로그인 ㄱㄴ..?

https://filezilla-project.org

가 무기명-ftp의 예제.



#end 2장

#3장 transport layer

tcp/udp 할거임

tcp가 꽤 까다로음

# tcp/udp

## tcp vs udp

건물에서 여러 방이 있고

두 방끼리 협력하고 싶으면

(단,말 대신 편?지로만 되고,편지도 중간에 사라질 수도 있고..)



편지 주는 쪽은 client

편지 받는 쪽은 서버

- 보통 이쪽이 노?예



지난 시간까진 어플리케이션 프로토콜.

서로 어떻겐지는 잘 몰라도 암튼 서로 말하는 규약-이 있고

서로 그거 지켜서 말 할 수 있음.



이번 시간엔 그게 어케 전달되는지.



긍께 이번 시간은 //우편 배달부 layer..?

비서-layer

믿을수 있을지 모르겠는 우편 배달부를 통해

비서가 보냄.

tcp는 받았는지 체크까지 다 함.

ref tcp joke

약 4-중 안전장비로 받았는지,그걸 확인했는지 다 확인 함.

udp는 그없.

걍 편지를 던져놓고 확인도 안함.

비서가 배송 시키기/배송된 문서 1차로 정리를 함.



tcp는 비서가 책임지고 잘 간거 확인까지 해줌

udp는 그없. 걍 빨리 보내고 빨리 받음.



### tcp가 느린 EU?

보내는 순서,받는 순서,속도,변조 여부 다 비서가 책임지고 확인함..



우편 배달부는 ip단에 가까움.



비서는 안의 내용이 뭔뜻인지는 모름

그건 application 레이어.

# transport service,protocol

send side에선

봉투 크기에 한계가 있어서

적당히 잘라서 보냄

recv side에선 그렇게 자른 걸

적당히 조합함.

# transport vs network layer 비유

transport는 우편-관리인.

건물 소속

network는 



program,process,thread?

program은 frozen file 아님..?





개인적?

- 독서 클럽 운영 ㄱㄴ.

- 참여 ㄱㄴ하다면 모집중

- 주제=최사장 의 책..?

	- 가벼움..?(상대적)

	- 상식[]..?

- 철학/종교/과학 잡학-사전 ish한 듯..

- 수업 끝나고 문의하셈



