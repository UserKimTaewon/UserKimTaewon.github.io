채점 중에..

- 문제를 좀 어렵게 낸 듯...

	- 답이 안나옴..?

	- 채점을 아직 못끝냄;;

DB.핵심=sql

- 이거만 해도 회사

>우리가 DB 만들 건 아니라...

>사실 쿼리는 좀 복잡

	- table.length가 수 백개...

 교수님 예제 이상으로 어렵게 나오지는 않을 듯..?

- 다른 반에 비해 강도가 높..음..?

	- 다른 반은 쿼리 실습이 메인인 반..

	- 다 소화 못하더라도 일단 우겨넣?어?봐라..??

  >어감이..



todo=DB.설계

# 아는 거

DB 스키마=?

- student(id:int,name,...)

- 지금까지는 스키마가 주어짐

- 이제는 어케 만드느냐!

	- 쿼리를 더 마니 할 예정일 것 같긴 하지마..

DB 설계는 어케 스키마를 '적절히' 만드느냐



# 솦트.개발.과정?

문제 발생(프로젝트 제안?)

문제사항 분석(개발자는 아직 몰?루)

- 고객이 요구사항을 알지.

- 고객이 원하는 걸 끄집어 내야...

여기서 branch[2]

1.프로그램

## 2.DB

디자인!

- 막 하는 것 같아도 사실 설계를 근거로 하는 거임.

- 이거에 결과물=model

DB.설계.과정[2]:

>초보자는 못하는게 당연하지만

>시니어-가 되려면 할 줄 알아야!

개념 설계

- 이게 오늘 주로 할 거.

논리 설계

...

## 개념 설계

결과물=ERD=Entity Relationship Diagram

- 상속-트리처럼 참조-관계 나타내는 다이어그램이네.

>markdown으로는 ERD 못그리나...?

저걸 table로 변환하는 거는 쉬움.

근대 해가 하나가 아님...

>극단적으로는 한 table에서 모든 필드를 다른 table에 나눌 수도...

- 이걸 증?명 하는게 정규화..?

class와 object 배웠자너.

class object entity type entity?

object는 다른 거와 구별 가능해야(identity? id?가 있음..?)

같은 성질의 object들의 모임이 class..?

고로 학생은 class

마찬가지로

entity/entity type이 object/class와의 관계 비슷?

### 근데 object vs entity..?

사실 같은 거.

class=data+method

ex:stack은 array인데 fifo만 되는.

 >사실 method 캡슐화 땜시 array가 안에 있을지는 몰?루

 >사실 array에 적용 가능한 연산자(=method)는 array 구현자가 이미 지정함.

 >하지만 내가 만드는 거에는 내가 정의를 해줘야..?

>여기서 더하면 DB개론 시간 증발이라 skip!



그래서 entity vs object는

- object는 필요한 메소드를 사용자가 정의해야

- entity는 이미 지정된 거만.Crete Read/Retreval Update Delete

 >read는 상태 변경 없이

//>사실 모든 동작은 C/R/U/D 중 하나..?

# DB.설계

## .개요

한 조직체의 운영,목적을 지원하기 위해 DB를 생성하는 과정?

일반적인 프로젝트 라이프-사이클 따름.



'좋은 데이터베이스 설계'는...

시간에 흐름에 따른 데이터의 모든 측면을 나타냄.

데이터 항목의 중복 최소화

DB에 대한 효율적 접근 제공

이해하기 쉬워야.

## .주요 단계?

분석->요구사항들

개념 설계->ER 스키마=ER 모델?

- 여기까지는 DBMS-독립적.

DBMS 선정

- 여기부터는 DBMS가 주로 제공하는 모델에 영향 받음

논리 설계->논리적 스키마

스키마 정제..?->정규화된 릴레이션

>이 두 과정이 정규화..?

 >전문가나..

물리적 설계->물리적 스키마

>진~짜 전문가나. 학부 수준이 아님



일반적으로 완성도를 높이기 위해 위<->아래로 좀 왔다갔다.

## db.설계?

엔티티,관계,프로세스,무결성 제약조건 등을 나타낼 추항화 모델을 구축..?



엔티티?

- 서로 구분이 되면 서 DB에 나타내려는 객체

관계?

- 2+개 간의 엔티티들 관의 연관을 나타냄

프로세스?

- 관련된 활동?





>과제,시험으로 꼭 ER 다이어그램 나올 거임..?

일단 설명을 문장으로 하면



엔티티:	명사

관계:		동사/서술어

- ex:"교수가 학생을 강의한다"

	- 엔티티:고수,학생

	- 관계:강의



물리적 DB 설계?

## 개념적 수준의 모델

실 세계(해결하고자 하는 문제)를 모델링 함.

구조나 스키마를 하향식으로 개발하기 위한 틀이 됨.





인기 있는 모델이 엔티티-관계=ER=Entity-Relationship 모델



이런 개념적-모델이 사상?될 수 있는 다수의 '구현 데이터 모델'이 돈재

ex:관계/계층/네트워크 등이 있지만 우리는 관계만.



## 설계.단계

### 요구사항 수집+분석

혼자서는 불가능.

고객의 의견이 필요...

- 설문/인터뷰/...

- 문제는 고객은 설명을 잘 못함

	- IT/SW를 모름

- 개발자는 원래 목적 관련을 잘 모름

	- 원래 업무를 모름

>고로 다른 사람 말을 이해하고,이해 시키는 능력이 중요...



stake holders=이해 당사자?

- 여러 사람의 이해가 부딧힘..?

- 정리,최종 판단은 개발자..네 팀 리더가 담당.

<졺>

요구사항으 바탕으로

- 엔티티 목록,..



### 개념적 설계

엔티티.타입,관계타입,..

DBMS 선정{skip!}

### 논리적 설계



스키마를 만들고

더 좋게 만들기 이ㅟ해'

### 물리적 설계



응답 시간,트랜젝션 ...

## ER모델

P.P.Chen 이 1976 제안.

!뭐ㅣ짐...

클래스 다이어그램도 ER 다이어그램긔 계량!



많은 CASE 도구에서 지원..?

=Compyter-Aied-SofwareEngeernering

- ide 같은거..?

- ex:ErWm



ER 모델.장점?

- 쉬움/

- 다수의 CASE 도구가 지ㅜ언..

ER..

어떤 고구는 XML?로 표현 가능



HYML=Hyprtyrcy MStkup/n

XML 문법은

<tag>

body

<\tag>

처럼..?

html은 표현어, 그거

>꼭 배ㅜㅇ셈..?

지능형 검색..?

- 저런 걸로 관계?지능?을 표현..?

<깸>

!쉬는시간!

## 엔티티(객체)

하나의 엔티티는 독립적으로 존재하며

고유하게 식별이 가능안 실세계의 객체

- by 속성의 값!

	- pk 일수도 있고..id일 수도 있고..

추상적인 거도 가능

ex:사람,사물,사건

## 엔티티 타입

엔티티들의 집합

동일한 attr을 가진 엔티티들의 틀/모임

하나의 엔티티는 1개 이상의 엔티티 집합에 속할 수 있음



엔티티 집..합..?

- state 같은 거

ER 다이어그램에서는 엔티티 타입을 직사각형으로 표현.

엔티티.타입.ex-사람,환자,계정,코스,...

엔티티 타입 이름 가이드?

- 단순 명사로.

- 설명 가능,특정 가능해야?

- 간결해야?

## 깅/약한 엔티티 타입

강한:

독자적으로 존재 가능.

키가 존재.

약한:

키를 형성할 만큼 충분한 애트리뷰트를 갖지 못함.

소유 엔티티  타입이 있어야 존재 가능?

소유 엔티티 타입의 키 애트리뷰트를 결합해야만 고유하게 식별 가능..?

(일종의 외래 키=내 pk?)

## 애트리뷰트(속성)

하나의 엔티티는 관련?된 애트리뷰트의 집합으로 설명됨

ex:사원 엔티티

애트리뷰트.도메인은..알지?

여러 애트리뷰트가 동일한 도메인을 공유 가능.

- ex:사원번호나 부서번호나 4자라 정수일 수.

키

ER 다이어그램에서 기본 키는 밑줄을 그어 표현.



요구사항 명세에서 명사나 형용사로 표현됨

엔티티는 <독립적인 의미>를 가지지만

애트리뷰트는 독립적인 의미를 갖지 않음.

- ex:학생은 독립적이지만, 이름은 학생에 종속적.



ER 다이어그램에서 타원형으로 나타냄.





### 단순 애트리뷰트

더 이상 다른 애트리뷰트로 나눌 수 없는 애트리뷰트

ER 다이어그램에서 실선 타원으로 표현함.

대부분이 단순임

### 복합 애트리뷰트

2+개의 애트리뷰트로 이루어진 애트리뷰트

동일한 엔ㅂ 타입이나 관계 타입에 속하는 애트리뷰트 중에서 밀접하게 연관된 것을 모아놓은 것?

ex:주소에는 시-구-동-집주소 애트리뷰트가 있지.



### 단일 값 애트리뷰트

관계형 DB에선 다 이거여야.

각 엔티티마다 정확히 1개의 값을 갖는 애트리뷰트

ex:사원번호는 사람이 2+개를 몾가짐

### 다치 애트리뷰트

엔티티마다 여러 개의 값을 가질 수 있는 애트리뷰트

ER 다이어그램에서 이중선 타원으로 표현

>관계형에서는 혀용 안함.

>고로 ER 다이어그램은 실제 DB랑은 조금 다름

### 저장된 애트리뷰트

다른 애트리뷰트와 독립적으로 존재하는 애트리뷰트

단순 애트리뷰트랑 동일하게 표현..?

- 걍 같은거 아녀..?

- 거의 다.

- 아닌 게 신기

### 유도된 애트리뷰트

다른 애트리뷰트의 값에서 얻어진 애트리뷰트

ER 다이어그램에서 점선 타원으로 표현.

ex:출생 년도가 있으면 나이는 유도된 애트리뷰트

- 없으면 유도된이 아님.

### 약한 엔티티 타입

키를 가지기에 충분한 애트리뷰트를 못가지는 타입.

약한 엔티티 타입에게 키 애트리뷰트를 제공하는 엔티티 타입을 소유 엔티티 타입(owner entity type) 또는 식별 엔티티 타입(identifying entity type)라고 부름

이중선 직사각형으로 표기

부분 키는 점선 밑줄로 표기.

- 부분 키+외부 키 어트리뷰트->키?

ex:부서는 약한 엔티티..?

- 사람 이름은 부분 키...?

관계도 약한..?



### 관계와 관계 타입

엔티티 사이에 존재하는 연관/연결

2+엔티티 타입 간의 사상..?

(자기-자기가 되서 사실은 1이어도 괜찮은)

//관계 집합은 동질의 관계들의 집합..?

관계 타입은 동질의 관계들의 틀..?

관계 집합/타입을 크게 구분할 필요는 없음.

명세서에서 동사.

ER 다이어그램에서 다이아몬드형으로.

연관시키는 엔티티 타입을 실선으로 연결



ex:엔티티-관계-엔티티

	- 사원 works for 부서

	- 공급자 supplies 부품

	- 학생 enrolls 과목

하지만 이름은 명사형으로 쓰는 게 좋음..?

### 관계의 애트리뷰트

관계도 속성을 가질 수..

하지만 키 어트리뷰트는 가지지 않음.

ex:공급자는 소비자에게 '분량만큼' 공급한다.



>나중에 DB에선느 2+개의 외래 키 갖고 그게 pk가 되는 객체가 됨..?

### 차수(degree):mapping(사상)

환계로 연결된 엔티티 타입들의 개수..?

그러니까 관게 하나에 달려 있는 엔티티의 개수?

가장 흔한 관계는 2개의 타입을 서로 연결하는 2진 관계.

1진 관계도 가능.(자가 참?조)

n진 관계는 있..을 수는 있지만

비추. 나중에 3진 정도로 쪼개야?

### 카디날리티

카디날리티 비율은 한 엔티티가 참여할 수 있는 관계의 수를 나타냄

1:1,1:N,M:N의 3?종이 있음.

그러니까 1대1함수,함수,관계?

각 객체끼리 선으로 관계를 표현하면

A:B가

1:1이면

둘 다 연결이 최대 1개

1:N이면

B의 엔티티는 연결이 최대 1개

A거는 그런 거 없음. n개.

M:N이면

둘 다 그런 거 없음.n개.

>용어가 바뀌네...



#### 1:1 관계

E1의 각 엔티티가 정확히 E2의 한 엔티티와 연관되고,

E2의 엔티티가 정확히 E1의 엔티티와 연관되면.

ex:각 사원에 대해 최대 pc 1개가 있고, 각 pc에 대해 사용하는 최대 1개의 사원이 있으면

사원과 PC간의 관계는 1:1 관계.



>사실 쉽지 않음..?

>문제에서 명시적으로 안줘도 유추할 수 있어야..?



#### 1:N 관계

실세계에서 가장 흔함..?

ex:각 사원에 대해 최대 1개의 PC가 있고,

각 PC에 대해 여러 사원들이 있으면.

#### M:N 관계

ex:학생-수업.



최대/최소값?

ER 다이어그램에서

연결하느 실선 위에 (최소,최대)로 표시

수 하나만 쓰면 (0,최대)랑 같음.

최대에 *은 inf랑 같음.

### 역할

관계 타입의 의미를 병확히 하기 위해 하용.

특히 하나의 관계 타입에 같은 엔티티 타입이 여러 번 나타나는 경우에는 필수.

관계 타입의 간선 위에 표시

ex:Student<-mento/mentee->Teachs

### 전체 참여와 부분 참여

전체 참여는 어떤 관계에 엔티티 타입 E원의 관계 타입 R에 의해서

어떤 엔티티 타입 E2의 어떤 엔티티와 연관되는 것을 의미

부분 참여는 어떤 관계에 엔티티 타입 E원의 일부 엔티티만 참여하는 것을 으미..?



ex:

사원<-부분참여-소속-전체참여->부서 면

사원은 아직 부서가 없을 수 있지만

부서는 사원이 없을 수 없음.



약한 엔티티 타입은 항상 관계에 전체 참여

>고전-ERD는 표현 잘 안됨..?

### 다중 관계

두 엔티티 타입 사이에 2+개의 관계 타입이 존재할 수 있음.

프로젝트에서 일할 수도 있고,

관리할 수도 있고.





## ER 다이어그램을 작성하기 위항 지침?

다치 애트리뷰트는 엔티티로 해야..

... ref ppt

관계에 애트리뷰트로 달 수도 있고,

관계에 엔티티 타입으로 달 수도 있고.



## db.설계.과정

응용의 요구사항을 수집하여 기술

응용과 연관이 있는 엔티티 타입들을 식별(명사!)

잉용과 연관이 있는 관계 타입들을 식별(동사?)

관계가 1:1,1:N,M:N 중 어디 해당하는지 결정



각 타이을 위한 애트리뷰트 식별, 도메인 식별

엔티티 타입을 위한 기본 키 식별

ER 스키마 다이어그램 그리기



복잡한 ER 다이어그램이 나올 수도...



사실 지금까지 한건 구-표기법

ERWind 등의 CASE 도구에서는 새발(crow-feet) 표기법이 흔히 사용됨

- 그것도 변형이 꽤 존재.

ex:

||:1,1

|0:0,1

>0:0,*

>|:1,*



대신 3발 표기법에서는 관계 타입이 빠짐.



3발 표기법이 되면 기존 거랑 반대가 되네?



처음부터 3발로 하면 헷갈릴 수도.





# DB 설계.ex

일단 ER 스키마 만들었으니

기업

'화사'에는 다수의 '사원'들이 '재직'

...



## 논리 설계=ER 스키마->관계 모델(=DB 스키마)

개념 설계를 했으니 논리 설계 차례?

ER 스키마를 DB 릴레이션들로 사상.



7단계의 알고리듬이 있음.



1.정규 엔티티 타입

2.약한 엔티티 타입

3.2진 1:1 관계

4.정규 2진 1:N

5.2진 M:N

6.3진 관계

7.다치 어트리뷰트

순.



### 1.정규 엔티티 타입

걍 통채로 table 하나로 만들면 됨.

어트리뷰트가 필드가 되게.

### 2.약한 엔티티 타입

자기 약한 키+소유 엔티티의 외부 키->pk인 애트리부트가.

단일 값 애트리뷰트면

### 3.2진 1:1 관계

담시간까지 읽어와야...?

방법이 4개가 있음.

어느 한쪽에 다른 엔티티를 외래 키로 참조하거나

- 가장 보편적

아니면 아예 둘을 한 table로 합치거나

- 얘도 꽤 보편적

아니면 아예 둘의 관계만 저장나느 새 table을 만들거나.

- 거의 안씀



이 방법중 어느게 맞는지 확인하는게 정규화

### 4.정규 2진 1:N

A:B에서 B쪽 table에서 A를 외래 키로 참조하거나

아니면 둘의 관계를 저장하는 새 table



자기-참조면 걍 필드에 자기를 가리키는 외래 키

### 5.2진 M:N

이건 둘의 관계만 저장하는 새 table 만드는 거  밖에 답이 없음.

### 6.3진 관계

3+면 보통 관계만 저장하는 table 하나.

자기 키는 외래 키를 적당히 묶어서 하지만

어느 하나가 1이면 걔는 포함 안해도 괜찮은?

어느 한쪽이 1

### 7.다치 어트리뷰트

E1이

걍 다치 어트리뷰트용 table 만들고

걔가 어트리뷰트랑 엔티티네 pk 참조하게.







몇몇 자동-DB-디자인 tool?

CASE.

다른 툴에 ER 다이어그램 기능 추가한 것도 있고

전용도 있고.

Erwin이 대표적..?

Rational Rose

- uml+c++/java code generation

>졸리면 뒤로 나가서 잠 깨고 와도 괜찮은!



숙제-요약해서 정리하기..? ER 다이어그램으로

"""

단대는 여러 대학으로 구성되어 있다.

(공과대학 등)

각 대학에는 여러 학과로 구성되어 있다.

각 학과에는 소속된 교수가 있다.

학생들은 학과에 소속되어 있다.

각 학과에서는 매 학기마다 과목을 개설한다.



각 과목은 여러 section=분반으로 나눠질 수 있다.

학생은 각 분반을 수강한다.

교수는 section의 수업을 담당한다.

교수는 매 학기 학생들을 상담지도한다..?

학과에 조교들이 있다.

조교들은 수업을 돕는다.

"""

구-형태로 그려서 제출

평가는 안..함..?

>그러니까 틀려도 괜찮은



손/컴터 출력 다 괜찮은

도서관-

채사장-지적 대화를 위한 넓고 얕은 지식

- 2편-진리,철학,과학,종교

	- 가 교재 ch 0,5를 읽어오셈.

 

5.15 4:00 411호(사무실)



블로그-여기는 아마 1주 정도 밀릴?지도?

